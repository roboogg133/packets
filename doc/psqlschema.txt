CREATE TABLE packages(
    query_name      TEXT NOT NULL,
    image_url       TEXT DEFAULT 'https://servidordomal.fun/favicon.ico',
    name            TEXT NOT NULL UNIQUE PRIMARY KEY,
    version         TEXT NOT NULL,
    public_key      BYTEA NOT NULL,
    description     TEXT NOT NULL,
    dependencies    TEXT,
    signature       BYTEA NOT NULL,
    package_url     TEXT NOT NULL,
    author          TEXT NOT NULL,
    author_verified BOOLEAN NOT NULL DEFAULT FALSE,
    family          TEXT NOT NULL,
    likes           INTEGER NOT NULL DEFAULT 0,
    reports         INTEGER NOT NULL DEFAULT 0,
    arch            TEXT NOT NULL,
    os              TEXT NOT NULL,
    serial          SERIAL NOT NULL UNIQUE
);

CREATE TABLE info(
    name        TEXT NOT NULL UNIQUE PRIMARY KEY,
    manifest    TEXT NOT NULL,
    install     TEXT NOT NULL,
    remove      TEXT NOT NULL
);

CREATE TABLE users(
    username TEXT NOT NULL UNIQUE PRIMARY KEY,
    email    TEXT NOT NULL,
    password TEXT NOT NULL,
    verified BOOLEAN NOT NULL DEFAULT FALSE,
    packages TEXT[],
    familys TEXT[],
    revoke TIMESTAMPTZ
);